chaturbate_poller
=================

.. py:module:: chaturbate_poller

.. autoapi-nested-parse::

   chaturbate_poller package.



Submodules
----------

.. toctree::
   :maxdepth: 1

   /api/chaturbate_poller/__main__/index
   /api/chaturbate_poller/cli/index
   /api/chaturbate_poller/config/index
   /api/chaturbate_poller/constants/index
   /api/chaturbate_poller/core/index
   /api/chaturbate_poller/database/index
   /api/chaturbate_poller/exceptions/index
   /api/chaturbate_poller/handlers/index
   /api/chaturbate_poller/logging/index
   /api/chaturbate_poller/models/index
   /api/chaturbate_poller/utils/index


Classes
-------

.. autoapisummary::

   chaturbate_poller.ChaturbateClient
   chaturbate_poller.ConfigManager


Functions
---------

.. autoapisummary::

   chaturbate_poller.format_message


Package Contents
----------------

.. py:class:: ChaturbateClient(username: str, token: str, timeout: int | None = None, *, testbed: bool = False, backoff_config: chaturbate_poller.config.backoff.BackoffConfig | None = None)

   Async HTTP client for Chaturbate Events API.

   :param username: Chaturbate username.
   :param token: Chaturbate API token.
   :param timeout: Request timeout in seconds.
   :param testbed: Use testbed environment.
   :param backoff_config: Retry configuration.

   :raises ValueError: If credentials are missing or timeout is invalid.

   Initialize client with credentials and configuration.

   :raises ValueError: If credentials are missing or timeout is invalid.


   .. py:method:: __aenter__() -> Self
      :async:


      Enter async context and initialize HTTP client.



   .. py:method:: __aexit__(exc_type: type[BaseException] | None, exc_value: BaseException | None, traceback: types.TracebackType | None) -> None
      :async:


      Exit async context and cleanup HTTP client.

      :param exc_type: Exception type if raised.
      :param exc_value: Exception value if raised.
      :param traceback: Exception traceback if raised.



   .. py:method:: fetch_events(url: str | None = None) -> chaturbate_poller.models.api_response.EventsAPIResponse
      :async:


      Fetch events from Chaturbate API with retry logic.

      :param url: Custom URL or None to use default endpoint.

      :returns: API response containing events and pagination info.

      :raises AuthenticationError: Invalid credentials.
      :raises NotFoundError: Resource not found.
      :raises TimeoutError: Request timeout.
      :raises HTTPStatusError: Other HTTP errors.



   .. py:attribute:: backoff_config
      :type:  chaturbate_poller.config.backoff.BackoffConfig


   .. py:attribute:: base_url
      :type:  str
      :value: 'https://eventsapi.chaturbate.com/events/{username}/{token}/'



   .. py:attribute:: timeout
      :type:  int | None
      :value: None



   .. py:attribute:: token
      :type:  str


   .. py:attribute:: username
      :type:  str


.. py:class:: ConfigManager(env_file: str = '.env')

   Configuration manager for environment variables and .env files.

   Initialize the configuration manager.

   :param env_file: The path to the environment file.


   .. py:method:: get(key: str, default: str | None = None) -> str | None

      Retrieve a configuration value by key, or default value if the key is not found.

      :param key: The configuration key to retrieve.
      :param default: The default value to return if the key is not found.

      :returns: The configuration value or default value.



   .. py:method:: get_bool(key: str, *, default: bool = False) -> bool

      Retrieve a boolean configuration value by key.

      :param key: The configuration key to retrieve.
      :param default: The default value to return if the key is not found.

      :returns: The boolean configuration value or default value.



   .. py:method:: str_to_bool(value: str) -> bool
      :staticmethod:


      Convert a string to a boolean value.

      :param value: The string value to convert.

      :returns: The converted boolean value.



   .. py:attribute:: ENV_VARIABLES
      :type:  ClassVar[dict[str, str | bool]]


   .. py:attribute:: config
      :type:  dict[str, str | bool | None]


.. py:function:: format_message(event: chaturbate_poller.models.event.Event) -> str | None

   Format a message for a given Chaturbate event.


